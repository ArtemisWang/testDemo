<!--
 * @Author: yating.wang
 * @Date: 2022-03-22 15:02:47
 * @LastEditTime: 2022-03-22 17:05:22
 * @LastEditors: yating.wang
 * @Description: 
-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <input type="file" />

</body>
<script>
  const file = document.querySelectorAll('input')[0]
  file.onchange=(e)=>{
    console.log(e.target.files)
    const curFile = e.target.files[0]
    // 将上传的图片内容展示出来
    if(curFile.type.includes("image")){
      const image = document.createElement('img');
      image.width = "500"
      image.height = "300"
      image.src = URL.createObjectURL(curFile)
      document.body.appendChild(image)
    }else if(curFile.type.includes("text")){
      let reader = new FileReader() //new一个FileReader实例
      reader.readAsText(curFile, "utf-8")
      reader.onload = function(f) {
        //   读取文件获得的对象
        console.log(this.result)
      }
    }
  }
</script>
</html>