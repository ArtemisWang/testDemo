<!--
 * @Author: yating.wang
 * @Date: 2022-03-15 09:51:06
 * @LastEditTime: 2022-03-15 10:49:30
 * @LastEditors: yating.wang
 * @Description: 
-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    img {
      display: block;
      margin-bottom: 50px;
      width: 400px;
      height: 400px;
    }
  </style>
</head>
<body>
  <img src="default.jpg"
    data-src="https://ss1.baidu.com/-4o3dSag_xI4khGko9WTAnF6hhy/zhidao/pic/item/0e2442a7d933c8954d9be773d51373f0830200d4.jpg"
    alt="">
  <img src="default.jpg"
    data-src="https://ss1.baidu.com/9vo3dSag_xI4khGko9WTAnF6hhy/zhidao/pic/item/c75c10385343fbf233e9732cb27eca8064388ffc.jpg"
    alt="">
  <img src="default.jpg"
    data-src="https://ss1.baidu.com/-4o3dSag_xI4khGko9WTAnF6hhy/zhidao/pic/item/0e2442a7d933c8954d9be773d51373f0830200d4.jpg"
    alt="">
  <img src="default.jpg"
    data-src="https://ss1.baidu.com/9vo3dSag_xI4khGko9WTAnF6hhy/zhidao/pic/item/c75c10385343fbf233e9732cb27eca8064388ffc.jpg"
    alt="">
  <img src="default.jpg"
    data-src="https://ss1.baidu.com/-4o3dSag_xI4khGko9WTAnF6hhy/zhidao/pic/item/0e2442a7d933c8954d9be773d51373f0830200d4.jpg"
    alt="">
  <img src="default.jpg"
    data-src="https://ss1.baidu.com/9vo3dSag_xI4khGko9WTAnF6hhy/zhidao/pic/item/c75c10385343fbf233e9732cb27eca8064388ffc.jpg"
    alt="">
  <img src="default.jpg"
    data-src="https://ss1.baidu.com/-4o3dSag_xI4khGko9WTAnF6hhy/zhidao/pic/item/0e2442a7d933c8954d9be773d51373f0830200d4.jpg"
    alt="">
  <img src="default.jpg"
    data-src="https://ss1.baidu.com/9vo3dSag_xI4khGko9WTAnF6hhy/zhidao/pic/item/c75c10385343fbf233e9732cb27eca8064388ffc.jpg"
    alt="">
  <img src="default.jpg"
    data-src="https://ss1.baidu.com/-4o3dSag_xI4khGko9WTAnF6hhy/zhidao/pic/item/0e2442a7d933c8954d9be773d51373f0830200d4.jpg"
    alt="">
  <img src="default.jpg"
    data-src="https://ss1.baidu.com/-4o3dSag_xI4khGko9WTAnF6hhy/zhidao/pic/item/0e2442a7d933c8954d9be773d51373f0830200d4.jpg"
    alt="">
  <img src="default.jpg"
    data-src="https://ss1.baidu.com/-4o3dSag_xI4khGko9WTAnF6hhy/zhidao/pic/item/0e2442a7d933c8954d9be773d51373f0830200d4.jpg"
    alt="">
  <img src="default.jpg"
    data-src="https://ss1.baidu.com/-4o3dSag_xI4khGko9WTAnF6hhy/zhidao/pic/item/0e2442a7d933c8954d9be773d51373f0830200d4.jpg"
    alt="">
  <img src="default.jpg"
    data-src="https://ss1.baidu.com/-4o3dSag_xI4khGko9WTAnF6hhy/zhidao/pic/item/0e2442a7d933c8954d9be773d51373f0830200d4.jpg"
    alt="">
  <img src="default.jpg"
    data-src="https://ss1.baidu.com/9vo3dSag_xI4khGko9WTAnF6hhy/zhidao/pic/item/c75c10385343fbf233e9732cb27eca8064388ffc.jpg"
    alt="">

</body>
<script>
  const images = document.querySelectorAll('img')
  window.addEventListener('scroll', e => {
    images.forEach(image => {
      const imageTop = image.getBoundingClientRect().top
      if (imageTop < window.innerHeight) {
        const data_src = image.getAttribute("data-src")
        image.setAttribute('src', data_src)
      }
    })
    console.log('scroll触发')
  })
  window.addEventListener('DOMContentLoaded', () => {
    images.forEach(image => {
      const imageTop = image.getBoundingClientRect().top
      if (imageTop < window.innerHeight) {
        const data_src = image.getAttribute("data-src")
        image.setAttribute('src', data_src)
      }
    })
    console.log('load触发')
  })
</script>
</html>